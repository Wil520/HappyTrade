@using HappyTrade.Models.ViewModels
@model StockViewModel

@{
    ViewData["Title"] = "Stock";
    string action = "Watch";
    if (@Model.IsWatching)
    {
        action = "Unwatch";
    }
    
}

<div>
    <h3 style="display:inline">@Model.Symbol</h3>
</div>
<hr />

<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div id="tradingview_b5e09"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
  new TradingView.widget(
  {
  "width": 980,
  "height": 610,
  "symbol": "NASDAQ:@Model.Symbol",
  "interval": "D",
  "timezone": "Etc/UTC",
  "theme": "light",
  "style": "1",
  "locale": "en",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "allow_symbol_change": true,
  "container_id": "tradingview_b5e09"
}
  );
  </script>
</div>
<!-- TradingView Widget END -->

<hr/>

<div id="app" class="text-center">

  <form asp-controller="Watchlist" asp-action="@action">
    <input type="hidden" asp-for="Symbol" />

    <button type="submit" class="btn text-light bg-success">@action</button>
  </form>

</div>


